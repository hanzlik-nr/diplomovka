<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="diplomová práca">
  <meta name="author" content="Bc. Richard Hanzlík">

  <title>Bc. Richard Hanzlík - Diplomová práca - Jelenec</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/grayscale.min.css" rel="stylesheet">

  <!-- LEAFLET - MAPS/GIS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
  <!-- jQuery - kvoli volaniu svc (sluzieb) -->
  <script src="https://unpkg.com/jquery@3.4.0/dist/jquery.js"></script>
</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top"><i class="fas fa-home"></i></a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#about">O stránke</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#projects">Mapa</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#contact">Kontakt</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="masthead">
    <div class="container d-flex h-100 align-items-center">
      <div class="mx-auto text-center">
        <h1 class="mx-auto my-0 text-uppercase">Využitie nástrojov WEB&nbsp;GIS</h1>
        <h3 class="text-white-50 mx-auto mt-2 mb-5">pre publikovanie údajov o vodných nádržiach</h3>
        <a href="#about" class="btn btn-primary js-scroll-trigger">Viac info</i></a>
        &nbsp;
        <a href="/imapa/" class="btn btn-primary js-scroll-trigger" target="_blank">Viac mapy</a>
      </div>
    </div>
  </header>

  <!-- About Site / Project  Section -->
  <section id="about" class="about-section text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2 class="text-white mb-4">O stránke</h2>
          <p class="text-white-50" style="text-align: justify;text-justify: newspaper">
            Toto je prezentačná stránka k mojej diplomovej práci "VYUŽITIE NÁSTROJOV WEB GIS PRE PUBLIKOVANIE ÚDAJOV O
            VODNÝCH NÁDRŽIACH".
            Zjednodušenú verziu iba s mapou možno nájsť <a href="/imapa/" target="_blank">tu <i
                class="fas fa-external-link-alt"></i></a>.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2 class="text-white mb-4">O práci</h2>
          <p class="text-white-50" style="text-align: justify;text-justify: newspaper">
            Cieľom práce je grafické zobrazenie aktuálneho stavu zatopenia vodnej nádrže Jelenec formou digitálneho
            modelu reliéfu,
            výšky hladiny vody v každom bode rastra, čím vznikne aktuálna mapa hĺbky vody a možnosť lokalizácie
            mobilného alebo iného zariadenia
            prehliadajúceho webovú stránku pomocou GPS lokalizácie na mape v reálnom čase. Jednotlivé zariadenia,
            algoritmy a procesy sú nastavené na pravidelné, automatické meranie s ich následným odosielaním na server
            pomocou technológie GSM a služby GPRS.
            Z dôvodu odstránenia odchýlky prebieha filtrácia a eliminácia údajov, ktoré presahujú zvolený rozsah
            jednotlivých číselných zápisov,
            čím sa zabezpečí dostatočná presnosť každého merania. Na základe výsledného údaju je automaticky
            vygenerovaná nová, aktuálna,
            mapa hĺbky vody vo vodnej nádrži. Server disponuje rôznymi variantmi týchto máp od maximálneho zatopenia
            nádrže po jej pokles o 1 m,
            čo stačí na kontrolu rutinných hĺbkových výkyvov od prevádzkovej hladiny.
            Zaznamenávanie výšky hladiny je zabezpečené vodeodolným ultrazvukovým modulom JSN-SR04T pre meranie
            vzdialenosti,
            ktorý je pevne uchytený vo zvolenej výške nad maximálnou hladinou vody v nádrži. Meracie zariadenie je
            prepojené s modelom Arduino Mega 2560,
            komunikačným modulom SIMCOM SIM 900 a nadstavbou modulu Arduino GSM Shield SIM900. GSM komunikácia funguje
            pomocou SIM karty,
            aká sa používa do bežných mobilných telefónov.
          </p>
          <p class="text-white-50" style="text-align: justify;text-justify: newspaper">
            Vedúcim diplomovej práce je Ing. Jakub Fuska, PhD. Diplomová práca bola riešená na Katedre krajinného inžinierstva 
            na <a href="http://www.fzki.uniag.sk/sk/" target="_blank" >Fakulte Záhradníctva a Krajinného inžinierstva Slovenskej poľnohospodárskej univerzity v Nitre</a>. 
            WebGIS riešenie využíva infraštruktúru projektu <a href="http://webmap.sk" target="_blank" >Webmap</a>. Za možnosť realizácie WebGIS časti mojej práce sa 
            týmto chcem poďakovať <a href="http://amavet962.org/" target="_blank" >Amavet klubu č. 962</a>, ktorý prevádzkuje projekt Webmap.
          </p>
        </div>
      </div>
      <img src="img/arduino2.png" class="img-fluid" alt="">
    </div>
  </section>

  <!-- Projects / Map Section -->
  <section id="projects" class="projects-section bg-light">
    <div class="container">

      <!-- Featured Project Row -->
      <div class="row align-items-center no-gutters mb-4 mb-lg-7">
        <div class="col-xl-4 col-lg-7">
          <img class="img-fluid mb-3 mb-lg-0" src="img/panorama.jpg" alt="Panoráma - vodná nádrž Jelenec a hrad Gýmeš">
        </div>
        <div class="col-xl-8 col-lg-7">
          <div class="featured-text text-center text-lg-left">
            <!-- <i class="fas fa-map-marker-alt"> <i class="fas fa-crosshairs">-->
            <h4>Vodná nádrž Jelenec &nbsp;&nbsp;&nbsp;<i class="far fa-dot-circle"> 48.39478, 18.20992 </i></h4>
            <p class="text-black-50 mb-0">
              Stav <i class="fas fa-calendar-day"><span id="stav_den">
                  21.04.2019</span></i>&nbsp;<i class="far fa-clock"><span id="stav_cas"> 13:34</span></i>
            </p>
            <p class="text-black-50 mb-0">
              Interaktívna mapa s rozšírenými možnosťami <a href="/imapa/" target="_blank">tu <i
                  class="fas fa-external-link-alt"></i></a>.
            </p>
          </div>
        </div>
      </div>

      <!-- Project One Row -->
      <!-- <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
        <div class="col-lg-6">
          <img class="img-fluid" src="img/demo-image-01.jpg" alt="">
        </div>
        <div class="col-lg-6">
          <div class="bg-black text-center h-100 project">
            <div class="d-flex h-100">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">Misty</h4>
                <p class="mb-0 text-white-50">An example of where you can put an image of a project, or anything else,
                  along with a description.</p>
                <hr class="d-none d-lg-block mb-0 ml-0">
              </div>
            </div>
          </div>
        </div>
      </div> -->

      <div class="row align-items-center no-gutters mb-4 mb-lg-5">
        <div class="col-lg-12 order-lg-first">
          <div class="bg-black text-center h-100 project" style="padding:20px">
            <div id="mojamapa" style="height:600px; width: 100%;" />
          </div>
        </div>
        <script type="text/javascript">
          var layer_hlbka = '', datum_mer = '', cas_mer = '';

          // https://leafletjs.com/reference-1.4.0.html

          // nacitavanie mapy
          //zmysluplny zoom: 15 - 18 (potom viac nepusti)
          var nadrz_jelenec = [48.39478, 18.20992];

          var mymap = L.map('mojamapa')
            .setView(nadrz_jelenec, 16);  //suradnice stredu, zoom

          //zaklad - mapa z openstreetmap
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright" target="_blank" title="OpenStreetMap (OSM) is a collaborative project to create a free editable map of the world.">OpenStreetMap</a> &vert; <a href="http://www.webmap.sk" target="_blank" title="Priestor pre webové GIS projekty, ktoré stoja na open source softvéri.">WebMap</a>',
            //https://gis.stackexchange.com/questions/198088/leaflet-subdomains-if-subdomain-is-down-attempt-another
            subdomains: ['a', 'b', 'c']
          }).addTo(mymap);

          //mierka
          L.control.scale().addTo(mymap);

          console.log("php call");
          jQuery.get("/svc/mapovanie.php", function (response) {
            console.log(response);
            var parsed_res = response.split(";");
            console.log(parsed_res.length);
            if (parsed_res.length == 4) {
              datum_mer = parsed_res[0];
              cas_mer = parsed_res[1];
              layer_hlbka = parsed_res[3];
              console.log("res ok");
              console.log(datum_mer);
              document.getElementById("stav_den").innerHTML = ' ' + datum_mer;
              console.log(cas_mer);
              document.getElementById("stav_cas").innerHTML = ' ' + cas_mer;
              //hladina/hlbky
              var wms_proxy_url = "/svc/wms-proxy.php?";//'http://webmap.sk:8080/geoserver2112/nitra_students/wms?';
              var nadrzWms = L.tileLayer.wms(wms_proxy_url, {
                //layers: 'nitra_students:435_nanovo',
                layers: layer_hlbka,
                tiled: true,
                format: 'image/png',
                transparent: true,
                maxZoom: 18,
                minZoom: 15,
                continuousWorld: true
              }).addTo(mymap);
              console.log(layer_hlbka);
            } else {
              console.log("res nok");
            }
          });

        </script>
      </div>

      <!-- Project Two Row -->
      <!-- <div class="row justify-content-center no-gutters">
        <div class="col-lg-6">
          <img class="img-fluid" src="img/demo-image-02.jpg" alt="">
        </div>
        <div class="col-lg-6 order-lg-first">
          <div class="bg-black text-center h-100 project">
            <div class="d-flex h-100">
              <div class="project-text w-100 my-auto text-center text-lg-right">
                <h4 class="text-white">Mountains</h4>
                <p class="mb-0 text-white-50">Another example of a project with its respective description. These
                  sections work well responsively as well, try this theme on a small screen!</p>
                <hr class="d-none d-lg-block mb-0 mr-0">
              </div>
            </div>
          </div>
        </div>
      </div> -->

    </div>
  </section>

  <!-- Signup Section -->
  <!--
  <section id="signup" class="signup-section">
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-lg-8 mx-auto text-center">

          <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
          <h2 class="text-white mb-5">Subscribe to receive updates!</h2>

          <form class="form-inline d-flex">
            <input type="email" class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="inputEmail" placeholder="Enter email address...">
            <button type="submit" class="btn btn-primary mx-auto">Subscribe</button>
          </form>

        </div>
      </div>
    </div>
  </section>
  -->

  <!-- Contact Section -->
  <section id="contact" class="contact-section bg-black">
    <div class="container">

      <div class="row">

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fas fa-map-marked-alt text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Adresa</h4>
              <hr class="my-4">
              <div class="small text-black-50">Gladiolová 6, 949 01 Nitra</div>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fas fa-envelope text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Email</h4>
              <hr class="my-4">
              <div class="small text-black-50">
                <a href="mailto:hanzlik.richard94@gmail.com">hanzlik.richard94@gmail.com</a>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fas fa-mobile-alt text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Phone</h4>
              <hr class="my-4">
              <div class="small text-black-50">+421 902 530 045</div>
            </div>
          </div>
        </div>
      </div>

      <div class="social d-flex justify-content-center">
        <!--<a href="#" class="mx-2">
          <i class="fab fa-twitter"></i>
        </a>-->
        <a href="https://www.facebook.com/profile.php?id=100008748339356" target="_blank" class="mx-2">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://github.com/hanzlik-nr/diplomovka" target="_blank" class="mx-2">
          <i class="fab fa-github"></i>
        </a>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black small text-center text-white-50">
    <div class="container">
      Copyright &copy; Bc. Richard Hanzlík 2019
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/grayscale.min.js"></script>

</body>

</html>